<div id="background-login">
  <div class="background-black-opacity">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark">
          <div class="container-fluid d-flex justify-content-start">
            <span class="navbar-brand">
              <img src="assets/images/logo.webp" width="175" height="87" class="img-fluid align-top d-none d-md-block" alt="Logo URJC">
              <img src="assets/images/logo.webp" width="175" height="87" style="width: 60px; height: 87px;  object-fit: cover; object-position: -20% 0;" class="align-top d-md-none" alt="Logo URJC">
            </span>
            <span class="navbar-brand my-auto mx-auto mx-md-0 h1">Gestión POD</span>
          </div>
        </nav>
    </header>
    <main class="container-fluid py-5">
        <div class="row justify-content-center">
          <div class="col-12">
            <div class="login mx-auto my-auto text-white">
              <form #loginTeacher="ngForm" ngNativeValidate (ngSubmit)="onSubmit(loginTeacher)" class="px-4 px-sm-5 py-5">
                <div class="form-group">
                  <h1 id="login-title">Gestión POD</h1>
                  <input type="email" class="form-control" id="input-email" aria-describedby="email" placeholder="Correo electrónico"
                  #email="ngModel" name="email" [(ngModel)]="emailTeacher" required email>
                  <div *ngIf="(error)">
                    <div class="mt-3 error-message">
                      <span class="error-message-txt m-0" role="alert" *ngIf="error != ''">{{error}}</span>
                    </div>
                  </div>
                </div>
                <div class="access-content">
                  <div class="row justify-content-between mx-0">
                    <button type="button" class="col-12 col-sm-7 p-0 order-last order-sm-first" data-bs-toggle="modal" data-bs-target="#modalAccessProblems">¿Problemas de acceso?</button>
                    <button type="submit" class="btn col-12 col-sm-4 mx-auto my-3 my-sm-0 btn-global theme-red order-first order-sm-last" [disabled]="email.errors?.['required'] || status == 'sentCode'">Acceder</button>
                  </div>
                </div>
              </form>
    
              <div class="px-4 px-sm-5 pb-3" *ngIf="status == 'sentCode'" >
                <small>El email de verificación enviado expira en: </small>
                <b><countdown #countdown [config]="{ leftTime: 300, format: 'm:ss' }" (event)="finish($event)">$!m!</countdown></b>
              </div>
    
              <div class="progress-loader" *ngIf="status === 'sentCode'">
                <div class="progress"></div>
              </div>
            </div>
          </div>
        </div>
    </main>
  </div>
</div>

<div class="modal fade" id="modalAccessProblems" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="px-4">
          <h3 class="modal-title"><b>Problemas de acceso</b></h3>
          <ul class="list-group list-group-flush font-card">
            <li class="list-group-item">
              Para poder acceder a la aplicación de Gestión POD de la URJC tiene que estar dado de alta en el próximo curso académico.
            </li>
            <li class="list-group-item">
              Compruebe que el email introducido está escrito correctamente.
            </li>
            <li class="list-group-item">
              Si considera que hay algún problema, contacte con el administrador de la aplicación.
            </li>
          </ul>
        </div>
      </div>
      <div class="modal-footer mb-3">
        <button data-bs-dismiss="modal" class="btn mx-auto btn-global theme-blue">Entendido</button>
      </div>
    </div>
  </div>
</div>
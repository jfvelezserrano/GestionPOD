<div id="background-login">
  <div  class="background-black-opacity">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark">
          <div class="container-fluid d-flex justify-content-start">
            <span class="navbar-brand">
              <img src="assets/images/URJC-Logo.jpg" width="175" height="86" class="d-inline-block align-top" alt="Logo URJC">
            </span>
            <span class="navbar-brand mb-0 h1">Gestión POD</span>
          </div>
        </nav>
    </header>
    <main>
        <div class="page-login">
          <div class="login mx-auto mt-5 text-white">
            <form #loginTeacher="ngForm" (ngSubmit)="onSubmit(loginTeacher)" class="px-5 pt-5 pb-5">
              <div class="form-group">
                  <h1 id="tituloLogin">Gestión POD</h1>
                  <div class="input">
                    <i class="fa fa-user icon-login"></i>
                    <div class="custom-wrapper">
                      <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp" placeholder="Correo electrónico"
                      #email="ngModel" name="email" [(ngModel)]="emailTeacher" required email [ngClass]="!email.valid && email.touched ? 'border-error' : ''">
                      <i class="fa-solid fa-xmark icon-login-error" *ngIf="!email.valid && email.touched" alt="Email inválido" placement="end" ngbTooltip="Email inválido"></i>
                    </div>
                  </div>
              </div>
              <div class="container-fluid contenedor-acceso">
                  <div class="row justify-content-between">
                  <span type="button" class="text-center my-auto col-7" data-bs-toggle="modal" data-bs-target="#modalAccessProblems">¿Problemas de acceso?</span>
                  <button type="submit" class="btn mx-auto my-md-0 col-4 boton-general tema-urjc-rojo" [disabled]="!loginTeacher.form.valid || status == 'sentCode'">Acceder</button>
                  </div>
              </div>
            </form>

            <div class="px-5 pb-3" *ngIf="status == 'sentCode'" >
              <small>El email de verificación enviado expira en: </small>
              <b><countdown #countdown [config]="{ leftTime: 300, format: 'm:ss' }" (event)="finish($event)">$!m!</countdown></b>
            </div>

            <div class="progress-loader" *ngIf="status === 'sentCode'">
              <div class="progress"></div>
            </div>
          </div>
        </div>
    </main>
  </div>
</div>

<div class="modal fade" id="modalAccessProblems" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3 px-4">
              <h5 class="modal-title" id="titleModal2"><b>Problemas de acceso</b></h5>

              <ul class="list-group list-group-flush carta-asignatura ">
                <li class="list-group-item">
                  Para poder acceder a la aplicación de Gestión POD de la URJC tiene que estar dado de alta en el próximo curso académico.
                </li>
                <li class="list-group-item">
                  Compruebe que el email introducido está escrito correctamente.
                </li>
                <li class="list-group-item">
                  Si considera que hay algún problema, contacte con el administrador de la aplicación.
                </li>
              </ul>

            </div>
            <div class="modal-footer">
                <button type="submit" data-bs-dismiss="modal" class="btn mx-auto boton-general tema-urjc-azul">Entendido</button>
            </div>
          </div>
      </div>
  </div>
</div>